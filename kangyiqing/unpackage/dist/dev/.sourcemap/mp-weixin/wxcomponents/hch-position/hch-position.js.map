{"version":3,"sources":["webpack:///D:/Zongshe/jat/uni-app/uni-app/kangyiqing/wxcomponents/hch-position/hch-position.vue?3dba","webpack:///D:/Zongshe/jat/uni-app/uni-app/kangyiqing/wxcomponents/hch-position/hch-position.vue?290a","webpack:///D:/Zongshe/jat/uni-app/uni-app/kangyiqing/wxcomponents/hch-position/hch-position.vue?51bc","webpack:///D:/Zongshe/jat/uni-app/uni-app/kangyiqing/wxcomponents/hch-position/hch-position.vue?ca4e","uni-app:///wxcomponents/hch-position/hch-position.vue","webpack:///D:/Zongshe/jat/uni-app/uni-app/kangyiqing/wxcomponents/hch-position/hch-position.vue?9020","webpack:///D:/Zongshe/jat/uni-app/uni-app/kangyiqing/wxcomponents/hch-position/hch-position.vue?e235"],"names":["props","vpersonData","type","default","markers","data","vperson","vpersonFlag","vpersonAdFlag","distanceL","latitude","longitude","controls","methods","callouttap","bindtap","updated","wx","success","_this","fail","console","regionchange","mapCtx","distance","s","nearDistance","temp","onShow","onReady"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyH;AACzH;AACgE;AACL;AACc;;;AAGzE;AACkL;AAClL,gBAAgB,6KAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,uFAAM;AACR,EAAE,gGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,2FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAorB,CAAgB,snBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCyBxsB;EACAA;IACAC;MACAC;MACAC;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MAAA;IAEA;IACAC;MACAF;MACAC;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MAAA;IAEA;EACA;EACAE;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IAGA;EACA;EACAC;IAEA;IACAC;MACA;MACA;MACA;QACA;QACA;UACA;UACA;QACA;MACA;IAEA;IACA;IACAC;MACA;MACA;IACA;IAEAC;MACA;MACAC;QACAf;QAAA;QACAgB;UACAC;UACAA;UACAA;QACA;QACAC;UACAC;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;MACAC;QACAL;UACAC;UACAA;UACAA;QACA;QACAC;UACAC;QACA;MACA;IACA;IACA;IACAG;MACA;MACA;MACA;MACA;MACA;MACAC;MACAA;MACA;IACA;IACA;IACAC;MACA;MACA;QACA;QACA;QACAC;MACA;MAAA;MACA;IACA;EAGA;EACAC,2BAEA;EACAC,6BAEA;AACA;AAAA,2B;;;;;;;;;;;;;ACtKA;AAAA;AAAA;AAAA;AAA2xC,CAAgB,qmCAAG,EAAC,C;;;;;;;;;;;ACA/yC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"wxcomponents/hch-position/hch-position.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./hch-position.vue?vue&type=template&id=3dcc7c85&\"\nvar renderjs\nimport script from \"./hch-position.vue?vue&type=script&lang=js&\"\nexport * from \"./hch-position.vue?vue&type=script&lang=js&\"\nimport style0 from \"./hch-position.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../新建文件夹/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"wxcomponents/hch-position/hch-position.vue\"\nexport default component.exports","export * from \"-!../../../../../../../新建文件夹/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../新建文件夹/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../新建文件夹/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../新建文件夹/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../新建文件夹/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../新建文件夹/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hch-position.vue?vue&type=template&id=3dcc7c85&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../新建文件夹/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../新建文件夹/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../新建文件夹/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../新建文件夹/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../新建文件夹/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hch-position.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../新建文件夹/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../新建文件夹/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../新建文件夹/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../新建文件夹/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../新建文件夹/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hch-position.vue?vue&type=script&lang=js&\"","<template>\r\n    <view>\r\n        <view class=\"page-body\">\r\n            <view class=\"page-section page-section-gap\">\r\n                <map id=\"myMap\" style=\"width: 100%; height: 640px;\" :latitude=\"latitude\" :longitude=\"longitude\" :markers=\"markers\" show-location enable-scroll @tap=\"bindtap\" \r\n\t\t\t\t@callouttap=\"callouttap\" @regionchange=\"regionchange\" @updated=\"updated\">\r\n                </map>\r\n            </view>\r\n\t\t\t<view class=\"vperson-tips\">\r\n\t\t\t\t<cover-view class=\"vperson-des-box\" v-if=\"vpersonFlag\" >\r\n\t\t\t\t\t<cover-image class=\"vperson-img\" src=\"../../static/hch-position/1.jpg\"></cover-image>\r\n\t\t\t\t\t<cover-view class=\"vperson-des\">\r\n\t\t\t\t\t\t<cover-view class=\"vperson-name\">症状人员</cover-view>\r\n\t\t\t\t\t\t<cover-view class=\"vperson-address\">地址:{{vperson.address}}</cover-view>\t\t\t\t\t\r\n\t\t\t\t\t\t<cover-view class=\"vperson-time\">发生时间:{{vperson.time}}</cover-view>\t\t\t\t\t\r\n\t\t\t\t\t</cover-view>\r\n\t\t\t\t</cover-view>\r\n\t\t\t</view>\r\n\t\t\t<cover-view class=\"near-num\">距离最近的疑似患者{{distanceL}}千米</cover-view>\r\n\t\t\t<cover-image class=\"address-icon\" src=\"../../static/hch-position/定位.png\"></cover-image>\r\n        </view>\r\n    </view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tprops:{\r\n\t\tvpersonData:{\r\n\t\t\ttype:Array,\r\n\t\t\tdefault:[\r\n\t\t\t\t// {\r\n\t\t\t\t// \tid:1,\r\n\t\t\t\t// \tname:'确诊患者',\r\n\t\t\t\t// \taddress:'湖北经济学院里栎1-666',\r\n\t\t\t\t// \ttime:'2020-4-7',\r\n\t\t\t\t// },{\r\n\t\t\t\t// \tid:2,\r\n\t\t\t\t// \tname:'疑似患者',\r\n\t\t\t\t// \taddress:'湖北经济学院桔7-413',\r\n\t\t\t\t// \ttime:'2020-6-8',\r\n\t\t\t\t// },\r\n\t\t\t]\r\n\t\t},\r\n\t\t markers:{\r\n\t\t\t type:Array,\r\n\t\t\t default: [\r\n\t\t\t// {\r\n\t\t\t// \tid:1,\r\n\t\t\t// \tlatitude: 30.92584,\r\n\t\t\t// \tlongitude: 110.980479034,\r\n\t\t\t// \ticonPath: '../../static/hch-position/virus.png',\r\n\t\t\t// \tcallout:{\r\n\t\t\t// \t\tcontent:\"确诊患者\",\r\n\t\t\t// \t\tborderRadius:10,\r\n\t\t\t// \t\tpadding:10,\r\n\t\t\t// \t\tdisplay:\"ALWAYS\",\r\n\t\t\t// \t}\r\n\t\t\t// }, {\r\n\t\t\t// \tid:2,\r\n\t\t\t// \tlatitude: 30.72584,\r\n\t\t\t// \tlongitude: 110.880479034,\r\n\t\t\t// \ticonPath: '../../static/hch-position/virus.png',\r\n\t\t\t// \tcallout:{\r\n\t\t\t// \t\tcontent:\"疑似患者\",\r\n\t\t\t// \t\tborderRadius:10,\r\n\t\t\t// \t\tpadding:10,\r\n\t\t\t// \t\tdisplay:\"ALWAYS\",\r\n\t\t\t// \t}\r\n\t\t\t// }\r\n\t\t\t]\r\n\t\t },\r\n\t},\r\n    data() {\r\n        return {\r\n\t\t\tvperson:{},\r\n\t\t\tvpersonFlag:false,\r\n\t\t\tvpersonAdFlag:true,\r\n\t\t\tdistanceL:0,\r\n            latitude: 39.909,\r\n            longitude: 116.39742,\r\n\t\t\tcontrols:[\r\n\t\t\t\t\r\n\t\t\t]\r\n        }\r\n    },\r\n    methods: {\r\n\t\r\n\t\t// 点击气泡\r\n\t\tcallouttap(e){\r\n\t\t\tthis.vpersonFlag=true;\r\n\t\t\tthis.vpersonAdFlag=false;\r\n\t\t\tfor (let i = 0; i < this.vpersonData.length; i++) {\r\n\t\t\t\tconst ele = this.vpersonData[i];\r\n\t\t\t\tif(ele.id==e.markerId){\r\n\t\t\t\t\tthis.vperson = ele;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t},\r\n\t\t// 点击地图\r\n\t\tbindtap(id){\r\n\t\t\tthis.vpersonFlag=false;\r\n\t\t\t// this.vpersonAdFlag=true;\r\n\t\t},\r\n\t\t\r\n\t\tupdated(){\r\n\t\t\tlet _this = this;\r\n\t\t\twx.getLocation({\r\n\t\t\t  type: 'gcj02', //返回可以用于wx.openLocation的经纬度\r\n\t\t\t  success: function (res) {\r\n\t\t\t\t_this.latitude = res.latitude;\r\n\t\t\t\t_this.longitude = res.longitude;\r\n\t\t\t\t_this.nearDistance(_this.markers,_this.latitude,_this.longitude)\r\n\t\t\t  },\r\n\t\t\t   fail: function(res){\r\n\t\t\t\t   console.log(res);\r\n\t\t\t   }\r\n\t\t  })\r\n\t\t},\r\n\t\t// 改变视野时改变经纬度\r\n\t\tregionchange(e){\r\n\t\t\tlet _this = this;\r\n\t\t\t// 使用 wx.createMapContext 获取 map 上下文\r\n\t\t\tvar mapCtx = wx.createMapContext('myMap',this)\r\n\t\t\tmapCtx.getCenterLocation({\r\n\t\t\t\tsuccess:function(res){\r\n\t\t\t\t\t_this.centerLatitude = res.latitude;\r\n\t\t\t\t\t_this.centerLongitude = res.longitude;\r\n\t\t\t\t\t_this.nearDistance(_this.markers,_this.centerLatitude,_this.centerLongitude)\r\n\t\t\t\t},\r\n\t\t\t\tfail: function(res){\r\n\t\t\t\t   console.log(res);\r\n\t\t\t\t}\r\n\t\t\t}) //获取当前地图的中心经纬度\r\n\t\t},\r\n\t\t// 两点间距离\r\n\t\tdistance(la1, lo1, la2, lo2) {\r\n\t\t\tvar La1 = la1 * Math.PI / 180.0;\r\n\t\t\tvar La2 = la2 * Math.PI / 180.0;\r\n\t\t\tvar La3 = La1 - La2;\r\n\t\t\tvar Lb3 = lo1 * Math.PI / 180.0 - lo2 * Math.PI / 180.0;\r\n\t\t\tvar s = 2 * Math.asin(Math.sqrt(Math.pow(Math.sin(La3 / 2), 2) + Math.cos(La1) * Math.cos(La2) * Math.pow(Math.sin(Lb3 / 2), 2)));\r\n\t\t\ts = s * 6378.137;//地球半径\r\n\t\t\ts = Math.round(s * 10000) / 10000;\r\n\t\t\treturn s\r\n\t\t},\r\n\t\t// 计算最近的距离\r\n\t\tnearDistance(array,centerLatitude,centerLongitude){\r\n\t\t\tlet temp=[]\r\n\t\t\tfor (let i = 0,l=array.length; i < l; i++) {\r\n\t\t\t\tconst element =  array[i];\r\n\t\t\t\tlet d = this.distance(element.latitude,element.longitude,centerLatitude,centerLongitude);\r\n\t\t\t\ttemp.push(d)\r\n\t\t\t};\r\n\t\t\tthis.distanceL = Math.min.apply(null, temp);\r\n\t\t}\r\n\t\t\r\n\t\t\r\n    },\r\n\tonShow() {\r\n\t\t\r\n\t},\r\n\tonReady() {\r\n\t\t\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.content {\r\n\t\ttext-align: center;\r\n\t\theight: 400upx;\r\n\t}\r\n\t.page-section{\r\n\t\tz-index: 0;\r\n\t}\r\n\t.vperson-tips{\r\n\t\twidth: 600upx;\r\n\t\theight: 100upx;\r\n\t\tmargin: 10upx auto;\r\n\t\tborder-radius: 10upx;\r\n\t\tposition: absolute;\r\n\t\ttop: 10upx;\r\n\t\tleft: 50%;\r\n\t\ttransform: translate(-50%,0);\r\n\t\tz-index:2;\r\n\t\toverflow: hidden;\r\n\t\t.vperson-des-box{\r\n\t\t\tbackground: #fff;\r\n\t\t}\r\n\t\t.vperson-img{\r\n\t\t\twidth: 80upx;\r\n\t\t\theight: 80upx;\r\n\t\t\tborder-radious:10upx;\r\n\t\t\tmargin: 10upx;\r\n\t\t\tfloat: left;\r\n\t\t}\r\n\t\t.vperson-des{\r\n\t\t\tpadding-top: 8upx;\r\n\t\t\tfloat: left;\r\n\t\t\tline-height: 1;\r\n\t\t\tfont-size: 22upx;\r\n\t\t\tcolor: #666;\r\n\t\t\tpadding-left: 20upx;\r\n\t\t\t.vperson-name{\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t\tcolor: deeppink;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.vperson-clear{\r\n\t\t\twidth: 30upx;\r\n\t\t\theight: 30upx;\r\n\t\t\tposition: absolute;\r\n\t\t\ttop:7rpx;\r\n\t\t\tright:7upx;\r\n\t\t\tmaigin:30upx;\r\n\t\r\n\t\t}\r\n\t}\r\n\t.address-icon{\r\n\t\twidth:38rpx;\r\n\t\theight:40rpx;\r\n\t\tposition:absolute;\r\n\t\ttop:22%;\r\n\t\tleft:50%;\r\n\t\tz-index:2;\r\n\t\tmargin-bottom:-20upx;\r\n\t\tmargin-left:-20upx;\r\n\r\n\t}\r\n\t.near-num{\r\n\t\tpadding: 10upx 20upx;\r\n\t\tborder-radius: 10upx;\r\n\t\tposition:absolute;\r\n\t\ttop:17%;\r\n\t\tleft:50%;\r\n\t\tz-index:2;\r\n\t\tfont-size:24upx;\r\n\t\tbackground:#fff;\r\n\t\ttransform: translate(-50%,0)\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../../新建文件夹/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../新建文件夹/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../新建文件夹/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../新建文件夹/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../新建文件夹/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../新建文件夹/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../新建文件夹/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../新建文件夹/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../新建文件夹/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hch-position.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../新建文件夹/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../新建文件夹/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../新建文件夹/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../新建文件夹/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../新建文件夹/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../新建文件夹/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../新建文件夹/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../新建文件夹/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../新建文件夹/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./hch-position.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1678628099328\n      var cssReload = require(\"D:/新建文件夹/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}